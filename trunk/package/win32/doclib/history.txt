------------------------------------------------------------------------------
Hot Soup Processor ver3.2                           HSP : Hot Soup Processor  
更新履歴                              copyright 1997-2009 (c) onion software  
------------------------------------------------------------------------------

・hsp3関連 更新履歴

	2009/04/10 3.2b2

	OpenHSP 2009/03/09までの更新を反映しています。
	主な修正点は以下の通りです。(詳細は、OpenHSP Trac参照)

		BT#204: 「#func onexit で定義した関数が実行されない場合がある 」に対処(fujidig)
		3.2beta1で、HSP3仕様のプラグイン使用時に開放済みのメモリをアクセスしてしまう問題を修正(sharkpp)
		拡張プラグイン・dllの解放をプログラムの終了処理中に行なうように変更(naznyark)
		logmes命令でバッファオーバーフローの可能性があったのを修正(fujidig)
		非ツールウィンドウとして作成後にツールウィンドウとして再初期化したウィンドウが、タスクバーにボタンを残す不具合を修正(naznyark)
		非常に長いモジュール名を指定するとエラーが発生する不具合を修正(fujidig)
		#runtime で #cmpopt の設定がリセットされるバグを修正(fujidig)
マクロ展開で、「macro 1,」のように書いた場合最後のパラメーターを省略と見なされなかった不具合を修正(fujidig)
		複数行コメント内に # で始まる行があると行番号がずれる不具合を修正(fujidig)
		プリプロセッサ命令の行末の'\'の前にマルチバイト文字があったとき動作がおかしいことがあるのを修正(fujidig)
		一部のプリプロセッサ命令で \ を使って行を継続したときに行番号がずれる不具合を修正(fujidig)
		ラベル型変数の初期値を使って、gotoなどの命令を実行するとエラーになるように修正(fujidig)
		memcpy, memset でオフセットに負数を指定したときエラーにするように変更(fujidig)
		hspextプラグインで、シリアルポートの10番目(COM10)以上を指定可能に修正(sharkpp)
		BT#208: hspextプラグインのpipeput,pipegetでフリーズ、エラーが発生する不具合を修正(sharkpp)
		付属ドキュメントのリンク切れ、不具合を修正(sharkpp,eller)
		スクリプトエディタ: ラベル一覧に、定義済みの命令・関数を表示する機能を実装(sharkpp)
		スクリプトエディタ: スクリプトエディタの印刷機能の更新、修正(sharkpp)
		スクリプトエディタ: スクロールバーのON/OFFが効いていないのを修正(fujidig)
		wmv形式ファイルのウィンドウ内再生に対応
		double型の\(剰余)演算に対応
		hspcvプラグインのcvfacedetect命令でメモリリークが発生する不具合	を修正
		hgimgプラグインの互換性を向上
		スクリプトエディタの「HSP拡張マクロを使用する」項目を廃止
		BT#217: #moduleのモジュール名直後に空白を記述するとエラーになる不具合を修正
		文字列の中から指定した文字だけを取り除くstrtrim関数を追加
		指定した文字列で分割された要素を変数に代入するsplit命令を追加
		objprm命令等の配置オブジェクトIDのチェックを厳格にした
		配置オブジェクトの挙動設定を行なうobjenable、objskip命令を追加
		入力ボックスにキーボードフォーカスが合った時は、デフォルトで項目を全選択するように修正
		グラデーションによる矩形塗りつぶしを行なうgradf命令を追加
		gsquare命令にグラデーション塗りつぶしオプションを追加
		画像によるカスタムボタンを設定するobjimage命令を追加
		ginfo関数に未使用のウインドゥIDを返す機能を追加
		スクリプトエディタからの実行時に、ツールフォルダにhsp3フォルダが存在するとエラーが出る問題を修正

	2008/06/05 3.2b1

	OpenHSP 2008/06/04までの更新を反映しています。
	主な修正点は以下の通りです。(詳細は、OpenHSP Trac参照)

		サイズ固定ツールウィンドウに非描画領域がある不具合を修正。(naznyark)
		onxxx系命令でラベル型変数を指定するとエラーになる不具合を修正。(naznyark)
		BT#190: return命令へ長い文字列を指定するとアクセス違反が起こる不具合を修正。(naznyark)
		BT#113: dimtypeでモジュール型変数が不完全な状態で作成される不具合を修正。(naznyark)
		strf関数で複数の引数を利用可能に修正。(fujidig)
		strmid関数でメモリ領域外にアクセスしないように修正。(fujidig)
		return命令で大きな実数を指定するとエラーになる不具合を修正。(fujidig)
		文字コード変換モジュールencode.asを追加。(sharkpp)
		llmod3モジュールを追加。(sharkpp)
		#defineのマクロ展開でバッファオーバーフローをチェックするように修正。(fujidig)
		BT#083: hspdef.asでデバッグ命令が取り消せていない不具合を修正。(fujidig)
		BT#198: 0x80以上の文字定数で負数が返ってくる不具合を修正。
		パラメーター取得処理の見直しにより全体の動作を高速化。(onitama)
		スタックレベルを最大で256まで拡張した。(onitama)
		OpenHSPのライセンス文書(HSPLicense.txt)を修正。(onitama)
		#regcmdで登録されたHPIのDLLハンドルを開放するように修正。(fujidig)
		マルチスレッド版ランタイム、hsp3mtを追加。(onitama)

	2007/7/29 3.1

		RC1のrandomize命令で引数を省略した時に正しく初期化されなかった不具合を修正。(HSPBT#168)
		拡張プラグインhspdaのsortval命令で降順ソートが無効になっていた不具合を修正。(HSPBT#174)
		ドキュメントの表記及び色を一部修正。
		HSPTVブラウザのセキュリティ機能の一部を修正。
		HSPTVブラウザでAlt+F4による終了時にプロセスが残る不具合を修正。
		モジュール空間内で指数付きのフォーマットを使用するとエラーになる不具合を修正。(HSPBT#177)

	2007/7/22 3.1RC1

		１行が非常に長いスクリプトでエラー行表示を間違える不具合を修正。(HSPBT#20)
		AHTコメントのnameオプションでエラーが出ることがある不具合を修正。(HSPBT#153)
		プリプロセッサ行の末尾にある漢字によっては行が接続される不具合を修正。(HSPBT#160)
		「'」のコード表記を「'\''」で行なう仕様補足をマニュアルに追加。(HSPBT#156)(HSPBT#163)
		拡張プラグインhspextのdirlist2命令で返されるファイル数が正しくなるように修正。(HSPBT#154)
		指数部のある実数リテラル表記でエラーが出ることがある不具合を修正。(HSPBT#155)
		#const命令に実数値であることを指定するdoubleオプションを追加。
		kernel32.as内の関数定義を一部修正。(HSPBT#162)
		#setmod命令の機能を正式に削除。

	2007/6/8 3.1b10

		拡張プラグインhspdxを最新バージョンに差し替え。(詳細はhspdx.txtを参照してください)
		拡張プラグインhspoggを追加。(詳細はhspogg.txtを参照してください)
		gdi32.as内のAngleArc関数定義を修正。(HSPBT#148)
		hspcvプラグインのヘッダファイル及びドキュメントを修正。(HSPBT#149)
		#modterm内でlogmesを使用した時にエラーが発生する不具合を修正。(HSPBT#99)
		実数の表現として指数部のある形式を認識するように修正。(HSPBT#145)
		dupptr命令で作成した文字列型変数の参照ポインタがおかしくなる不具合を修正。(HSPBT#76)
		拡張プラグインhspextのdirlist2命令で起こる各種不具合を修正。(HSPBT#89)
		拡張プラグインhspdaのsortval命令を実数型配列変数対応に修正。(HSPBT#147)
		strmid命令の読み出しサイズ指定によって余分なメモリを確保しないように修正。(HSPBT#150)
		ヘルプのginfo_winx,ginfo_winyの項目を一部修正し、ginfo_sx,ginfo_syの説明を追加。(HSPBT#152)
		AHTコメントでnameオプションを指定した時に値が認識されなくなる不具合を修正。(HSPBT#153)
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2007/4/21 3.1b9

		HSPCL(コンソール版)のmes命令で長い文字列に改行が入る不具合を修正。
		β8版の拡張で一部のプラグイン機能で互換性がなくなっていた不具合を修正。
		hspcmp.dllのhsc_ver命令によるバージョン表記を修正。(HSPBT#142)
		getstr命令の第５パラメーターヘルプを入れ忘れていたのを修正。
		初期化済みのstruct型変数をDebugウィンドウで正しく表示されるように修正。(HSPBT#113)
		struct型の配列終了処理でエラーが発生することがある不具合を修正。(HSPBT#144)
		HSP3アイコンを256色(8bit)のものに変更。

	2007/4/5 3.1b8

		新規拡張プラグインhspcvを追加。(詳細はhspcv.txtを参照してください)
		変数データをまとめてファイルに読み書きするためのvload、vsave関連命令(hspdaプラグイン)を追加。
		HSPCL(コンソール版)のinput命令でバイナリーモード時にEOFを誤認識する不具合を修正。
		コンパイル時の追加ファイル(hspdef.as等)が存在しなくてもエラー表示しないように修正。
		変数名情報を常に出力するオプションを#cmpopt命令に追加。
		HSPSDK(プラグイン)側から変数IDと変数名に関する情報を取得可能に修正。
		RSSモジュール(mod_rss.as)のモジュール名を修正。(HSPBT#133)
		user32.as内のGetWindowModuleFileName関数定義を修正。(HSPBT#125)
		拡張プラグインhspinetのftpopen命令のポート指定ができない不具合を修正。(HSPBT#58)
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2007/2/2 3.1b7

		ラベルの位置を変数に記憶させるためのラベル型を追加。
		スクリプトエディタでコメントを入れたときの色分けに失敗する不具合を修正。(HSPBT#42)
		スクリプトエディタの検索方法を修正。正規表現による検索を追加。(HSPBT#53)
		スクリプトエディタの外部ツール登録が保存されない不具合を修正。(HSPBT#73)
		vartype関数の変数指定で配列変数を指定できるように修正。(HSPBT#102)
		repeat命令の第２パラメーター指定で無限ループを生成することがある不具合を修正。(HSPBT#95)
		oncmd命令で有効化・無効化を行なうとエラーが出ることがある不具合を修正。(HSPBT#66)
		ユーザー定義関数内で関数の戻り値が代入される変数型が変更できない不具合を修正。(HSPBT#90)
		ヘルプの誤記を修正。(HSPBT#97)
		型を拡張するプラグインで型変換に失敗することがあった不具合を修正。
		#deffuncのonexitオプションで指定された命令が最適化機能により無効化される不具合を修正。(HSPBT#100)
		AHTコメントキーワードの「pure」を追加。(詳細はaht.txtを参照してください)
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2006/11/10 3.1b6

		スクリプトエディタの右クリックメニューに「かんたん入力」の項目を追加。
		HSPテンプレートツール(AHT)についての基本仕様ドキュメントを追加。
		スクリプトエディタでダブルクオーテーション(\")の色分けが誤認識される不具合を修正。
		スクリプトエディタでラベル名の後にコメントがあるとラベル一覧に表示されない不具合を修正。(HSPBT#46)
		gsquare、grect命令等でブレンド透明度が最大の時に正しい色で描画されない不具合を修正。(HSPBT#81)
		コピーモード7で画面にはみ出すコピーを行なうとマスク位置がずれる不具合を修正。(HSPBT#82)
		input命令による入力ボックスで[Enter]キーを押した時に警告音が出ないように修正。
		モジュール名と同じキーワード使用時に落ちることがある不具合を修正。(HSPBT#88)
		mod_img.as使用時など#usecom命令使用時にhspcmp.dllが落ちることがある不具合を修正。
		#deffunc、#defcfunc命令にlocal指定のオプションを追加。
		#usecom命令にglobal指定のオプションを追加。
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2006/07/18 3.1b5

		画面の初期化Yサイズがデスクトップ領域より大きい場合にgrotate、gsquare、grect命令が失敗する不具合を修正。
		β3以降でマクロ展開中のシフト演算、比較演算が正しく行なわれなかった不具合を修正。(HSPBT#74,#80)
		デバッグウィンドウにモジュール型、COMOBJ型変数の内容が表示されるように修正。
		デバッグウィンドウにモジュール型の配列変数を表示させようとすると終了する不具合を修正。(HSPBT#78)
		拡張プラグインhspda.dllのcsvstr命令でバッファオーバーフローが起こる不具合を修正。(HSPBT#79)
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2006/07/03 3.1b4

		HSPLet3.0.2を同梱。#runtime命令によりHSPLetを選択可能に修正。
		へルプマネージャー(helpman.exe)のランタイムをIEコンポーネント版に変更。
		β3版でbuffer命令実行時に操作先ウィンドウIDが正しく保存されなかった不具合を修正。
		スクリーンセーバーのコンフィグ処理でwait命令を使うと閉じてしまう不具合を修正。(HSPBT#70)
		noteget命令で範囲外の行を指定した場合システムエラーになる不具合を修正。(HSPBT#67)
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2006/04/20 3.1b3

		#constプリプロセッサ命令による実数演算に対応。
		マクロに設定した文字列の256文字以降が認識されない不具合を修正。(HSPBT#36)
		プリプロセッサ命令使用時に実行時エラーの行数がずれる不具合を修正。(HSPBT#20)
		β2版でコンパイル時に文法エラーを出することがある不具合を修正。
		β2版でコンパイルエラー時にソース行が表示されない不具合を修正。
		dirlist命令で返されるstatの値がファイル数と合っていない不具合を修正。
		screen、bgscr命令によるウィンドウ初期化時に再描画を行なうように修正。
		mesbox命令による入力ウィンドウをタブキーによるフォーカス移動から除外した。
		cls命令でフォント指定が標準に戻されるように修正。
		objsize命令のp3パラメーターがwinobj、axobj命令で反映されない不具合を修正。
		sortnote命令(HSPDA)でエラーが発生する不具合を修正。
		oncmd命令によるメッセージ割込み先で別ルーチンのreturnコードが残る不具合を修正。(HSPBT#63)
		関数を命令として使用した場合のエラーメッセージを変更。
		へルプマネージャー(helpman.exe)のランタイムを変更。
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2006/03/09 3.1b2

		スクリプトエディタで別名保存した後に古い名前が開けなくなる不具合を修正。(HSPBT#41)
		スクリプトエディタの色オプションで「空色」と「深緑」が逆になっているのを修正。(HSPBT#57)
		不必要なモジュール、DLLインポート情報をオブジェクトファイルから破棄する最適化機能を追加。
		コンパイル時の設定をソース内に記述するための#cmpoptプリプロセッサ命令を追加。
		プリプロセッサ出力ファイル(hsptmp.i)を標準で生成しないように修正。
		複数行文字列({"〜"})内に半角文字列がある時にエラーが出る不具合を修正。(HSPBT#51)
		メニューバー作成モジュール(mod_menu.as)の不具合を修正。
		onkey割り込み時のiparamの内容がキーコードだったものを文字コードとなるように修正。
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。

	2006/01/30 3.1b1

		64文字を越える文字列の比較演算に失敗することがある不具合を修正。
		拡張プラグインHGIMG3の機能追加と不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。
		axobj命令のウィンドウが正常に作成されなかった場合にエラーでなくstatに-1を代入して終了するように修正。
		モジュール変数のデストラクタに渡されるパラメーター指定(#modterm)を廃止。
		モジュール変数のデストラクタが呼び出されないことがある不具合を修正。
		ジョイスティック入力モジュール(mod_joystick.as)の不具合を修正。
		ドキュメントの間違いを一部修正。

	2005/09/07 3.0a

		実数型の配列変数を大きく拡張する時にエラーが発生する不具合を修正。
		comres命令でパラメータを省略した場合、設定を無効化するように修正。
		COMオートメーションでIDispatch以外のインターフェースを使用できるように修正。
		exeファイル動作時にrun命令が正常に実行されない不具合を修正。
		screen命令のウィンドウ非表示オプションで再初期化した時に再描画されない不具合を修正。
		bgscr命令で作成されたウィンドウの配置オブジェクトが再描画されない不具合を修正。
		gmode7によるαコピーが正常に動作していない不具合を修正。
		HSP2.61互換のプラグイン呼び出し規約$202のprm_getv関数で正しいPValポインタを得られない不具合を修正。(HSPBT#34)
		mes,print命令でタブ(\t)が展開されるように修正。
		Windows9xで、chgdisp使用時に実行終了後 自動で元の環境に戻らない不具合を修正。
		文字列型の配列変数要素が大きな値になった時システムエラーが発生する不具合を修正。
		拡張プラグインhspdb.dllのdbgets命令が正しく動作しない不具合を修正。
		拡張プラグインHGIMG3の不具合をいくつか修正(詳細はhgimg3.txtを参照してください)。
		WIN32API関数の定義ファイルの不具合を修正。
		プラグインで型を登録すると演算の型が変更されなくなる不具合を修正。(HSPBT#40)
		#regcmd命令に型登録のためのパラメーターを追加。
		#defineマクロの初期値に実数値を使用できるように修正。
		grect、grotate、gsquare命令で画面右と下1ドットが描画されない不具合を修正。
		hsed3le.exeのダイアログ表記を一部修正。

	2005/08/01 3.0

		スクリプトエディタの印刷メニューでエラーが発生する不具合を修正。
		サイズ可変ウィンドウの最大幅が正しく反映されない不具合を修正。(HSPBT#12)
		強制終了があった場合でもエラートラップされるように修正。
		エラー発生時の割り込みでwparamとlparamが正しく設定されない不具合を修正(HSPBT#32)
	2005/07/26 3.0RC2

		HSPTVブラウザを標準で同梱。
		ATL.dll、ATL71.dllをActiveX使用時のみリンクを行なうように修正。
		DPMファイル読み込み設定を行なうchdpm命令を追加。
		描画領域のスクロール設定を行なうgroll命令を追加。
		gsquare命令でパレットモード時の塗りつぶしコードが指定できない不具合を修正。
		palette命令の更新スイッチを0にしてもパレットが更新される不具合を修正。
		mesbox命令で入力可能文字数として0(最大)を指定できるように修正。
		objmode命令のフォーカス移動キー指定が反映されていなかった不具合を修正。
		memset命令で指定されるバッファの全サイズが指定できなかった不具合を修正。
		poke命令の文字列データ書き込みでstrsizeに代入される値が1多かった不具合を修正。
		poke命令の文字列データ書き込みのオーバーフロー判定を修正。
		システム変数hspstatが正しく設定されていなかった不具合を修正。
		#cfunc命令でglobalオプションが指定できなかった不具合を修正。
		システム変数ginfo_winx、ginfo_winyをHSP2.61と互換のある値に修正。
		画面の初期化サイズを示すシステム変数ginfo_sx、ginfo_syを追加。
		HSP3.EXE起動時のコマンドライン取得に失敗することがある不具合を修正。
		エラーダイアログ表示時にウィンドウを閉じようとするとエラーになる不具合を修正。
		コンソールモード時はファイル名指定時以外タイトル文字列を表示しないように修正。
		デバッグウィンドウの配列変数表示に長い文字列があると落ちる不具合を修正。
		スクリプトエディタのコンテキストメニュー初期化処理が正しく行なわれない不具合を修正。
		スクリプトエディタの貼り付け動作のショートカットキーとして「Shift+Ins」を追加。
		RC1のquerycom命令で１番目の変数にオブジェクトが格納されない不具合を修正。
		variant型、comobj型変数の解放が正常に行なわれない不具合を修正。
		外部DLL呼び出しパラメーターのnullをnullptrに変更。

	2005/07/18 3.0RC1

		スクリプトファイルのデフォルト拡張子を「.hsp」に変更。
		標準ツールとしてサンプルスクリプトビューアーを追加。
		COMオブジェクトから値を受け取るためのvariant型を追加。
		sarrayconv命令を追加。
		β11で行なったsendmsg命令の修正を再度変更。
		ATL71.dllがある場合はそちらを使用してActiveXの取得を行なうように修正。
		noteload命令の読み込みサイズパラメーターに対応。
		noteadd命令で空の文字列を上書きすると行が削除される不具合を修正。
		オブジェクトの出ていない状態でclrobj命令を指定するとエラーになる不具合を修正。
		アクティブなウィンドウの検出で間違った結果を出すことがある不具合を修正。(HSPBT#23)
		長い文字列を格納した変数をデバッグウィンドウで表示させた際に落ちる不具合を修正。
		拡張プラグインhspinet.dllにftp操作関連の命令群を追加。
		circle命令の画面更新範囲が正しくなかった不具合を修正。
		DebugWindowの変数オプションを複数回押すと落ちる不具合を修正。(HSPBT#29)
		run命令を実装。
		SDKライブラリ::配列指定をしていない時はObjectWriteが呼ばれないように修正。
		instr関数のパラメーターでstrmid関数を使用すると正しく処理されない不具合を修正。

	2005/06/27 3.0β11

		複数行文字列({"〜"})指定中にあるダブルクォートが正しく処理されない不具合を修正。(HSPBT#24)
		onexit命令実行時にWindowsのシャットダウン処理が常に中止される不具合を修正。(HSPBT#26)
		sendmsg命令のパラメーターをHSP2.61のobjsend命令と互換のある形式に修正。
		COMイベント作成を行なうcomevent命令の仕様を一部変更。
		COMオブジェクト型変数の配列が使用できるように修正。
		SDKライブラリ::関数パラメーター取得仕様を修正。
		SDKライブラリ::PValの識別情報HSPVAR_SUPPORT_TEMPVAR(テンポラリ変数)を追加。
		SDKライブラリ::HspFunc_dimを始めとする配列変数操作用のサポート関数を追加。

	2005/06/15 3.0β10

		#modinit、#modterm命令の登録名が不要な書式に変更。
		#modterm命令で登録したデストラクタが実行されない不具合を修正。
		自分自身のモジュール変数を示すシステム変数thismodを追加。
		poke命令のパラメーターに文字列を指定した際に長さがstrsizeに代入されるように修正	。
		形式の異なるオブジェクトファイルを起動した場合にシステムエラーとなる不具合を修正。
		β9でsdim命令により初期化された文字列型の自動拡張に失敗する不具合を修正。
		β9で2.61互換の配列要素記述に関数が使用できない不具合を修正。
		「1+」のように中途半端な式の記述でエラーが出るように修正。
		拡張プラグインhspda.dllのcsvstr命令で最初の要素が無視される不具合を修正。

	2005/06/02 3.0β9

		新規関数を登録するための#defcfunc命令を追加。
		関数形式で外部API呼び出しを定義する#cfunc命令を追加。
		外部呼出しコマンド等のアドレス情報を取得するlibptr関数を追加。
		文字列型から整数型への変換時に「$1a」のような16進数を認識するように修正。
		2次元以上の配列で連続代入に失敗することがある不具合を修正。
		sdim命令で2次元以上の配列確保をした場合にバッファサイズが揃わなくなる不具合を修正。
		2.61互換の配列記述で変数を使用して書くと、エラーが起こる不具合を修正。(HSPBT#21)
		文字列型で確保されるメモリバッファの初期化を行なうように修正。(HSPBT#13)
		クリーンアップモジュールが正常に呼び出されなかった不具合を修正。
		stick命令のp3パラメーターが反映されない不具合を修正。
		ウインドゥID32以降を使用するとエラーになる不具合を修正。
		システム変数refdvalを追加。
		mmplay命令のwav再生チェック機能を削除。
		alloc命令をマクロに変更。
		hspinetプラグインを新規に同梱。
		デバッグウインドゥのダイアログがWindows9xで文字化けする不具合を修正。
		拡張プラグインhspda.dllをHSP3対応に修正。rndf_*命令を追加。
		主要なWIN32API関数の定義ファイルを標準で同梱。
		HSP HELP Browserをver1.50に更新。

	2005/04/28 3.0β8

		HSP2.61の拡張プラグイン規約$202、$20に対応。
		#func登録時の引数prefstr,pexinfo,nullを追加。
		clrobj命令の終了ID初期値が-1になるように修正。
		ver2.61互換の配列要素指定「.」でcntを使用するとエラーになる不具合を修正。
		「=<」のようにパラメーター式で連続する演算子をエラーとするように修正。
		hsp3cl.exeをコマンドラインパラメーターなしで起動してもエラーにならないように修正。
		標準マクロとして実数型の配列を宣言するddimを追加。
		screen命令でウインドゥを再初期化した時に描画内容が残ることがある不具合を修正。
		COMオブジェクト型の内部動作仕様を一部変更。

	2005/04/12 3.0β7

		hsp3.exeのコマンドラインで実行オブジェクトファイル名が指定できるように修正。
		スクリーンセーバーのサポートを実装。
		memfile命令を実装。
		button命令で配置されたボタンイベントでシステム変数statにIDが反映されるように修正。
		noteinfo関数でエラーが発生することがあった不具合を修正。
		コマンドライン引数(起動オプション)の取得内容を2.61に準拠するように修正。
		起動時のウインドゥ非表示、サイズ等のオプションが反映されるように修正。
		コンソール版ランタイムで一部のプラグイン呼び出しがエラーになる不具合を修正。
		コンソール版ランタイムでデバッグウインドゥ使用時にフリーズする不具合を修正。
		noteadd命令による先頭行の追加仕様を2.61に準拠するように修正。
		β6で実行ファイル自動作成が正常に動作しなかった不具合を修正。

	2005/03/29 3.0β6

		デバッグウインドゥの表示機能を追加。
		デバッグ支援命令のassert、logmes命令を追加。
		コンソール版ランタイムの実行ファイル作成時はend,stop命令のキー入力待ちを行なわないように修正。
		コンソール版ランタイムにdialog、exec命令を追加。
		コンソール版ランタイムのinput命令挙動を2.61に準拠するように修正。
		peek,poke命令で配列変数の要素が無視される不具合を修正。
		COMオブジェクト型のプロパティ参照でIDispatchの変換に失敗する不具合を修正。
		COMオブジェクト型のプロパティ参照の引数を指定できるように修正。
		COMイベントを管理するためのcomevent、comevarg命令、comevdisp関数を追加。
		配列要素に自分自身の変数名を指定した時にエラーが発生する不具合を修正。
		sendmsg命令の戻り値をシステム変数statに返すように修正。
		命令パラメーターの末尾が不正な時にエラー行番号がずれる不具合を修正。
		hspcmp.dllによるシンボル取得をさらに修正。

	2005/03/04 3.0β5

		hspcmp.dllによるシンボル取得時の方法を修正。
		β4でonerror命令によるエラートラップが無効になっていた不具合を修正。
		HSP2.61互換プラグイン呼び出しでエラー10が出ることがある不具合を修正。
		oncmd命令の割り込み登録を操作先のウインドゥごとに行なわれる仕様に変更。
		oncmd命令の割り込み時のウインドゥIDをginfo関数で取得できるように修正。
		oncmd命令のサブルーチン割り込み内からreturn命令で戻り値が設定されるように修正。
		割り込み発生時のジャンプではlooplev、sublevをリセットするように修正。
		オブジェクトファイル作成時にも一部のデバッグ情報が生成される不具合を修正。
		screen、bgscr命令のウインドゥスタイル設定が反映されない不具合を修正。
		objprm命令でボタンオブジェクトの内容変更ができない不具合を修正。
		[TAB]キーによるオブジェクトフォーカス移動を実装。
		オブジェクトにフォーカスがある場合にもキー割り込みがかかるように修正。

	2005/02/22 3.0β4

		スタックメモリ及びタスクの管理方法を変更、若干の高速化。
		多くのメモリ確保を行なってもメモリ警告が出ないように修正。
		実行時ランタイムを指定するプリプロセッサ命令#runtimeを追加。
		winobj命令の実行に失敗した時にシステム変数statで通知するように修正。
		varptr関数のパラメーターで配列要素が無効になる不具合を修正。
		dirlist命令で三番目のパラメータが機能していない不具合を修正。
		inputオブジェクト配置時に別なイベントが発行される不具合を修正。
		chkboxオブジェクトのデフォルト値が無効だった不具合を修正。
		一部のオブジェクトがobjprm命令で変更できなかった不具合を修正。
		poke命令のパラメーターに文字列を指定できるように修正。
		dialog命令のメッセージに文字列型以外の指定ができるように修正。
		文字列型変数の比較後に加算代入(+=)でエラーが起こる不具合を修正。
		await命令の待ち処理をSleepからMsgWaitForMultipleObjects APIに変更。
		end命令でアプリケーション終了コードを設定できるように修正。
		ID0以外のウインドゥのクローズボックスでも終了できるように修正。
		hspmath.asマクロを同梱。

	2004/12/07 3.0β3

		#func登録時の引数hwnd,hdc,hinstを削除。sptr,wptrを追加。
		ウインドゥ情報を取得するためのシステム変数(hwnd,hdc,hinstance)を追加。
		演算子「<<」「>>」の優先順位が比較演算子より高くなるように修正。
		実数の負号解釈が正常に行なわれなかった不具合を修正。
		複数行コメントの記述によってはエラーとなる不具合を修正。
		プリプロセッサの特殊展開マクロ'%%'が使用できなかった不具合を修正。
		screen命令で別IDのサイズが変更されてしまう不具合を修正。
		bgscr命令でタイトルなしのウインドゥが出るように修正。
		mesbox命令の文字数指定に1が指定できない不具合を修正。
		onexit、onerror等の割り込みON/OFF指定がエラーになる不具合を修正。
		bload命令でオフセット指定時に正しく読み込まれない不具合を修正。
		strmid命令で取り出した文字列の終端が付加されない不具合を修正。
		演算子「<=」が正しく動作していなかった不具合を修正。
		β2でパレットモード初期化が正しく行なわれなかった不具合を修正。
		実数型の文字列変換の内部処理を_gcvtからsprintfに変更。
		dirlist命令でファイル名が正しくない時の返値をver2.61互換に修正。
		circle命令の輪郭描画モードで内部が塗りつぶされる不具合を修正。
		picload命令実行時にウインドゥのリサイズが行なわれない不具合を修正。
		chgdisp命令のエラー時動作をver2.61互換に修正。
		pget命令実行時に描画色が変更されない不具合を修正。
		ウインドゥオブジェクトの動作不具合を修正。
		buffer命令でパレットモードの画面作成ができない不具合を修正。
		エラー行番号がずれて表示されることがある不具合を修正。
		grotate命令のパラメーター仕様をver2.61互換に修正。
		COMオブジェクトのプロパティ取得で文字列(BSTR)型、COM型に対応。
		COMメソッド実行時の戻り値の代入先を設定するcomres命令を追加。
		newcom命令にポインタから初期化するオプションを追加。
		定義命令のvar引数の配列要素が正しく渡されない不具合を修正。
		ActiveXオブジェクトを配置するaxobj命令を追加。
		#funcでの古いプラグイン規約$10に対応。
		notemax関数のかわりにnoteinfo関数を追加。notemaxをマクロに変更。
		objsel命令のフォーカスID取得に対応。
		winobj、sendmsg命令を追加。
		mmloadの繰り返し再生に対応。
		ローカルラベル(*@)を実装。
		hspdef.asのマクロを更新。

	2004/11/23 3.0β2

		プリプロセッサ命令#additionを追加。
		デフォルトで"userdef.as"があればソースに追加されるように修正。
		#include、#addition命令でのパス検索方法を修正。
		HSP2.61との互換を取るためのスクリプト(hsp261cmp.as)を追加。
		width命令の座標指定パラメーターが動作するように修正。
		文字列パラメーターのバッファ拡張に失敗する不具合を修正。
		else命令をif命令の次行に記述しても動作するように修正。
		mesbox命令のp4,p5パラメーターが正常に反映されない不具合を修正。
		onexit命令の割り込み後に終了してしまう不具合を修正。
		パラメーターに「-変数」を指定するとエラーになる不具合を修正。
		ウインドゥの初期位置パラメーターが反映されない不具合を修正。
		複数行コメントをプリプロセッサ行で閉じられない不具合を修正。
		#funcで定義するキーワードをglobal指定可能に修正。
		circle命令の画面更新範囲が間違っていたのを修正。
		外部DLLの開放処理に失敗することがある不具合を修正。
		0除算のエラーが表示されなかった不具合を修正。
		clrobj命令の開始範囲が反映されていなかった不具合を修正。
		instr命令の検索開始位置が反映されていなかった不具合を修正。
		ユーザー定義命令実行時のメモリリークを修正。
		callfunc命令の戻り値が正しくなかった不具合を修正。
		改行のみのメッセージが正しく認識されない不具合を修正。
		複数行文字列の先頭にある改行は無視する仕様に修正。
		再帰呼び出し中に引数で指定された変数の受け渡しに失敗する不具合を修正。

	2004/11/17 3.0β1

		最初の公開β版。
		objinfo関数を実装。
		dirinfo(1)による取得ディレクトリの最後に「\」が入らないように修正。
		#modfunc実行時のメモリリークを修正。
		return命令に返値のためのパラメーター指定を追加。
		mesbox命令の文字数制限がおかしかった不具合を修正。

	2004/11/12 3.0α12

		Footy版の新スクリプトエディタを同梱。
		if命令のブロック処理が正常に行なわれないことがある不具合を修正。
		ws2str関数の名称をcnvwtosに変更。
		moduse関数の名称をvaruseに変更。機能を追加。
		limit,limitf関数を実装。
		cnvstow命令を実装。
		ランタイムにWindowsXP用のMANIFESTリソースを追加。
		COMオブジェクト型変数の比較(=,!=)をサポート。
		COMオブジェクト型変数のコピーをサポート。
		str型の配列を自動拡張に対応。
		ランタイム(hsprt)を同梱。

	2004/11/06 3.0α11

		COMオートメーション(IDispatch)に対応(一部仮実装)。
		mcall,exgoto,on〜goto/gosub,circle,syscolor命令を実装。
		hsvcolor,gsquare,grect,grotate命令を標準として実装。
		ginfo関数を実装。
		文字列型の比較演算子(=,!=)を実装。
		画像のコピーのモード7を追加。
		mmplay命令に再生状態を取得する機能を追加。

	2004/10/25 3.0α10

		COM呼び出しのための定義を行なう#usecom,#comfuncを追加。
		外部DLL、COM呼び出し時のパラメータータイプ(wstr,hwnd,hdc)を追加。
		dimtype命令の仕様を変更。
		newcom,delcom,querycom,mref,memexpand,line命令を実装。
		abs,absf,expf,logf,ws2str関数を実装。
		sqr関数をsqrt関数に名称を変更。
		atn関数をatan関数に名称を変更し機能を若干変更。
		プリプロセッサ命令#enumを追加。
		vartype関数、dupptr命令の機能を追加。
		SDKのHspVarProc/HSPEXINFO構造体を一部更新。
		新規変数タイプ作成時にtypeIDが正常に設定されない不具合を修正。
		ユーザー定義命令内からのサブルーチンジャンプを行なうとエイリアスが無効になる不具合を修正。
		intとdoubleの型変換時にテンポラリ変数が壊れる不具合を修正。
		関数パラメーター省略時にエラーが発生する不具合を修正。

	2004/10/23 3.0α9

		int型の計算処理を最適化。
		exec,chgdisp,getstr,memcpy,memset命令を実装。
		callfunc,strmid,instr関数を実装。
		変数のIDが重複することがある不具合を修正。
		複数行のif命令記述がエラーになる不具合を修正。
		複数行の文字列 {"〜"} が認識されなかったのを修正。
		割り込みが多重に発生した時に正常に実行されない不具合を修正。
		割り込みジャンプからの復帰時にstop命令を越える不具合を修正。

	2004/10/15 3.0α8

		sdim命令をver2.x互換に修正。
		dimtype,dup,dupptr命令を実装。
		foreach命令を通常の配列変数にも対応。
		書式指定付き文字列変換(strf命令)を実装。
		dirinfo,sysinfo,getpath関数を実装。
		メモリノートパッド命令を実装。
		ワンキーヘルプ用hsファイル(作業中)を同梱。

	2004/10/11 3.0α7

		モジュール変数を実装。
		DLL呼び出し(#uselib,#func)を実装。
		int,double型の配列自動拡張に対応。
		プラグイン仕様の一部を更新。

	2004/10/04 3.0α6

		モジュール機能及び命令定義(#deffunc)、ローカル変数を実装。

	2004/09/30 3.0α5

		文字列の格納サイズを可変に修正。
		ファイル操作命令とメモリ操作(poke,peek)を仮実装。
		変数型サンプルを同梱。

	2004/09/26 3.0α4

		割り込みとイベントを仮実装。
		プラグインサンプルを更新。

	2004/09/22 3.0α3

		いくつかのオブジェクトを仮実装。
		プラグインサンプルを同梱。

	2004/09/16 3.0α2

		描画関連命令をいくつか追加。
		基本命令動作の不具合を修正。

	2004/09/13 3.0α1

		SDKのプレビュー版として最初の公開。


・hsed3.exe 更新履歴

	2007/07/28修正(おにたま)

	・スクリプトエディタのアイコンイメージを変更。

	2006/09/06修正(LonelyWolf)

	・エスケープシーケンスのダブルクオーテーション(\")が色分けで誤認識される不具合を修正しました。
	・ラベル名の後にコメントがあるとラベル一覧に表示されない不具合を修正しました。

	2005/07/30修正(おにたま)

	・印刷メニューでエラーが発生する不具合を修正
	・デフォルトのオプション値を一部変更しました。

	2005/07/25修正(おにたま)

	・貼り付けの動作を「Shift+Ins」でも可能なように修正。
	・コンテキストメニューの初期化が行なわれない不具合を修正。
	・デフォルトのオプション値を一部変更しました。

	2005/07/12修正(おにたま)

	・デフォルトのファイル拡張子を「.hsp」に変更しました。
	・デフォルトのオプション値を変更しました。

	2005/05/14修正(LonelyWolf)

	・オートインデントの動作を一部変更しました。
	・タブ切り替え時のちらつきを無くしました。
	・サイズ変更時のちらつきを無くしました。
	・メニューから開くときにカレント ディレクトリがおかしくなる不具合を修正しました。
	・メニューのファイル、もしくは、タブを右クリックして出てくるメニューから、
	　ファイルの再読込をさせることができるようにしました。
	・コマンドラインから相対パスで開けるようにしました。
	・同じファイルを開かないようにする機構の精度を上げました。
	・外部ツールからエディタへアクセスするための機構の基本部分を実装しました。
	・特定の状況下で改行したときに文字化けが発生する不具合を修正しました。

	2004/04/11再修正(LonelyWolf)

	・オートインデントの動作の不具合を修正しました。

	2004/04/11修正(LonelyWolf)

	・オートインデントの動作を修正しました。
	・外部ツールを起動できるようにしました。

	2004/04/02修正(LonelyWolf)

	・デバッグの取り忘れを撤去。
	・ダイアログからファイルを開いたときに、カレントディレクトリが初期状態に
	　戻されてしまう不具合を修正。

	2004/03/25修正(LonelyWolf)

	・メニューからファイルを開いた際に、保存が必要と誤認識してしまう不具合を修正しました。
	・設定の保存方法にiniファイルを選択できるようにしました。
	・メニューのウィンドウから、タブをアクティブ化できるようにしました。
	・検索(置換)ダイアログが表示されていて、エディタにフォーカスが当たっている時に、
	　再度ダイアログを開こうとしたときに、ダイアログにフォーカスを当てるようにしました。
	・検索(置換)ダイアログの検索文字列が空白だったときに、次(前)を検索すると
	　多重に開いてしまう不具合を修正しました。
	・起動時にコマンドラインが与えられていても、設定のカレント ディレクトリを反映してしまう
	　不具合を修正しました。
	・Ctrlを押しながらドラッグすると、ドラッグした文字列をコピーするようにしました。

	2005/03/19修正(LonelyWolf)

	・検索で見つからなかった場合に、検索ダイアログにフォーカスが当たるように修正しました。
	・Zオーダーでのタブ切り替えがうまく動作していなかった不具合を修正しました。
	・Footyのアンドゥの制限の設定を、デフォルトの256回から無限回に変更するように修正しました。
	・設定の項目名の変更と、項目の追加を行いました。

	2005/03/13修正(LonelyWolf)

	・設定の親カテゴリをクリックしたときの動作を変更しました。
	・コマンドライン起動、ドラッグアンドドロップでファイルを開くときに、
	　最後に開いたタブをアクティブにするようにしました。
	・一部のプリプロセッサ命令が色分けされていなかった不具合を修正しました。
	・コンパイル時に文頭にスクロールしてしまう不具合を修正しました。
	・色の設定の保存方法を変更しました。
	・オート インデントでアンドゥ バッファを使用しないようにしました。
	・ヘルプ設定の項目の配置を変更しました。

	2005/02/26修正(LonelyWolf)

	・選択範囲を検索キーワードに反映するようにしました。
	・オプションのディレクトリ設定のラジオ ボタンの挙動を修正しました。
	・旧HSPヘルプ設定を廃止しました。
	・コマンドライン起動、ドラッグアンドドロップでのファイル オープンがうまく動作していない
	　バグを修正しました。
	・一部のキーワードが色分けされていなかったバグを修正しました(仮)。
	・色分け可能なキーワードに文字列("〜")とプリプロセッサ命令(#〜)を追加しました。
	・設定の初期化機能を実装しました。
	・「非文字」の設定が保存されていなかった不具合を修正しました。

	2005/02/18修正(おにたま)

	・デフォルトのオプション値を変更しました。
	・HSP3用の拡張子(*.hsp)に仮対応しました。
	・新規ウインドゥに設定が反映されなかったのを修正。

	2004/02/16修正(LonelyWolf)

	・MDIのショートカット キーを使えるようにしました。
	・Ctrl+Enterでオート インデントを無効にして改行を行うようにしました。
	・タブが常に1つは残っているようにしました。
	・メニューの「すべて選択」のグレイアウトを行うようにしました。
	・一部のダイアログのフォントを変更しました。
	・コマンドラインからの起動でバッファ オーバーフローにより、表示がおかしくなるバグを
	　修正しました。
	・#runtimeに対応しました。

	2004/01/03修正(LonelyWolf)

	・コマンドラインから起動する際に、強制終了がかかることがあったバグを修正
	　しました。
	・操作の加えられていないタブがアクティブのときに、ファイルを開いた場合は
	　そのタブに展開するようにしました。
	・タブが存在しない状態でラベル一覧を表示しようとすると強制終了がかかるバグを修正しました。
	・検索機能を改良しました。

	2004/11/19修正(LonelyWolf)

	・採用しているエディト部分のコントロールのライブラリのバージョンアップにより、
	　　・折り返し状態でHomeキーを押したときに、先頭文字が１バイトのときに正常に
	　　　動作しない不具合が修正されました。
	　　・[Ctrl]+[End]で終端を越えてしまうバグが修正されました。
	・一部のダイアログがESCキーで閉じることができなかった問題を解決しました。
	・複数のファイルをドロップできるようになりました。
	・ツールバーにフラット スタイルを採用しました。
	・バージョン情報ダイアログのリンクの動作を変更しました。
	・メニューの項目名の細かい訂正を行いました。
	・タブが存在しない状態でもドロップできるようになりました。
	・終了時にどれかのタブでキャンセルがかけられた場合、タブを閉じないようにしました。
	・色分けがマルチステートメントを認識できていなかった問題を解決しました。
	・関数の色分けに対応しました。
	・改行時にインデントが段階的に行われていましたが、まとめてインデントを行うようにしました。
	・改行時に行がインデントのみだった場合は、インデントを削除するようにしました。


------------------------------------------------------------------------------
                                                    HISTORY.TXT / end of file 
------------------------------------------------------------------------------
